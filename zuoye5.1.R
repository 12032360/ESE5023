install.packages("sp")
install.packages("rgdal")
install.packages("sf")
install.packages("raster")
install.packages("maps")
install.packages("mapdata")
install.packages("maptools")
library(maptools)
library(maps)
library(mapdata)
library(sp)
library(rgdal)
library(sf)
library(raster)
library(ggplot2)
China_map <- readOGR("D:disk/ESE5023/China_map","bou2_4p")
summary(China_map)
plot(China_map)
pre_1<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_01.tif")
pre_2<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_02.tif")
pre_3<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_03.tif")
pre_4<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_04.tif")
pre_5<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_05.tif")
pre_6<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_06.tif")
pre_7<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_07.tif")
pre_8<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_08.tif")
pre_9<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_09.tif")
pre_10<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_10.tif")
pre_11<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_11.tif")
pre_12<-raster("D:/disk/ESE5023/2.5m_pre/wc2.1_2.5m_prec_12.tif")
ws_1<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_01.tif")
ws_2<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_02.tif")
ws_3<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_03.tif")
ws_4<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_04.tif")
ws_5<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_05.tif")
ws_6<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_06.tif")
ws_7<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_07.tif")
ws_8<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_08.tif")
ws_9<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_09.tif")
ws_10<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_10.tif")
ws_11<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_11.tif")
ws_12<-raster("D:/disk/ESE5023/2.5m_ws/wc2.1_2.5m_wind_12.tif")
sol_1<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_01.tif")
sol_2<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_02.tif")
sol_3<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_03.tif")
sol_4<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_04.tif")
sol_5<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_05.tif")
sol_6<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_06.tif")
sol_7<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_07.tif")
sol_8<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_08.tif")
sol_9<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_09.tif")
sol_10<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_10.tif")
sol_11<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_11.tif")
sol_12<-raster("D:/disk/ESE5023/2.5m_sol/wc2.1_2.5m_srad_12.tif")
pre_total<-(pre_1+pre_2+pre_3+pre_4+pre_5+pre_6+pre_7+pre_8+pre_9+pre_10+pre_11+pre_12)
ws_total<-(ws_1+ws_2+ws_3+ws_4+ws_5+ws_6+ws_7+ws_8+ws_9+ws_10+ws_11+ws_12)
sol_total<-(sol_1+sol_2+sol_3+sol_4+sol_5+sol_6+sol_7+sol_8+sol_9+sol_10+sol_11+sol_12)
pre_total_china <- crop(pre_total,China_map)
pre_total_china1<-mask(pre_total_china,China_map,na.rm=T)
plot(pre_total_china1,main="total pre",xlab="long",ylab="lat")
ws_total_china <- crop(ws_total,China_map)
ws_total_china1<-mask(ws_total_china,China_map,na.rm=T)
plot(ws_total_china1,main="total ws",xlab="long",ylab="lat")
sol_total_china <- crop(sol_total,China_map)
sol_total_china1<-mask(sol_total_china,China_map,na.rm=T)
plot(sol_total_china1,main="total sol",xlab="long",ylab="lat")
#1.3我觉得累加起来当风速大于36时可以建立风力发电厂
col<-terrain.colors(30)
plot(ws_total_china1,main="total ws",xlab="long",ylab="lat",col=col)
contour(ws_total_china1,add=T,col="red",levels=36)
#1.4
plot(China_map,main="ws and sol",col=col)
contour(pre_total_china1,add=T,col="green",levels=1000)
contour(sol_total_china1,add=T,col="red",levels=180000)




